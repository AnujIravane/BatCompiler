; array7.L1
; Swap two values by reference

(:main
  (:main
    0 1
    (rdi <- 5)
    (rsi <- 7)
    (call allocate 2)
    ((mem rsp 0) <- rax)
    ((mem rax 8) <- 13)
    ((mem rsp -8) <- :swap_pair_ret)
    (rax += 8)
    (rdi <- rax)
    (rax += 8)
    (rsi <- rax)
    (call :swap_pair 2)
    :swap_pair_ret
    (rdi <- (mem rsp 0))
    (call print 1)
    (return))
  (:swap_pair
    2 0
    (r10 <- (mem rdi 0))
    (r11 <- (mem rsi 0))
    ((mem rdi 0) <- r11)
    ((mem rsi 0) <- r10)
    (return)) 
)


