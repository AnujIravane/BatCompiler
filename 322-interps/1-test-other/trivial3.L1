; Trivial3.L1
; Given two array, create another array whose size is the sum of those two arrays

(:main
  (:main
    0 2
    (rdi <- 7)
    (rsi <- 5)
    (call allocate 2)
    ((mem rsp 0) <- rax)
    (rdi <- 9)
    (rsi <- 5)
    (call allocate 2)
    ((mem rsp 8) <- rax)
    ((mem rsp -8) <- :create_big_array_ret)
    (rdi <- (mem rsp 0))
    (rsi <- (mem rsp 8))
    (call :create_big_array 2)
    :create_big_array_ret
    (rdi <- rax)
    (call print 1)
    (return))
  (:create_big_array
    2 0
    (r8 <- (mem rdi 0))
    (r9 <- (mem rsi 0))
    (rdi <- r8)
    (rdi += r9)
    ; need to encode these since size is not encoded for some reason..
    (rdi *= 2)
    (rdi += 1)
    (rsi <- 5)
    (call allocate 2)
    (return)))

